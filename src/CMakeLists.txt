add_library(deltahdl_lib STATIC
    common/types.cpp
    common/diagnostic.cpp
    common/source_mgr.cpp
    preprocessor/macro_table.cpp
    preprocessor/preprocessor.cpp
    lexer/keywords.cpp
    lexer/lexer.cpp
    lexer/string_escape.cpp
    parser/parser.cpp
    parser/parser_decl.cpp
    parser/parser_generate.cpp
    parser/parser_toplevel.cpp
    parser/expr_parser.cpp
    parser/parser_stmt.cpp
    parser/parser_assert.cpp
    parser/parser_clocking.cpp
    parser/parser_verify.cpp
    parser/parser_specify.cpp
    parser/parser_config.cpp
    parser/parser_inst.cpp
    elaboration/elaborator.cpp
    elaboration/elaborator_validate.cpp
    elaboration/type_eval.cpp
    elaboration/const_eval.cpp
    elaboration/sensitivity.cpp
    simulation/driver_update.cpp
    simulation/net.cpp
    simulation/scheduler.cpp
    simulation/process.cpp
    simulation/variable.cpp
    simulation/sim_context.cpp
    simulation/class_object.cpp
    simulation/eval.cpp
    simulation/eval_systask.cpp
    simulation/eval_expr.cpp
    simulation/eval_enum.cpp
    simulation/eval_string.cpp
    simulation/eval_math.cpp
    simulation/eval_fileio.cpp
    simulation/stmt_exec.cpp
    simulation/lowerer.cpp
    simulation/vcd_writer.cpp
    simulation/adv_sim.cpp
    simulation/vpi.cpp
    simulation/sv_callable.cpp
    simulation/clocking.cpp
    simulation/assertion.cpp
    simulation/sva_engine.cpp
    simulation/coverage.cpp
    simulation/dpi.cpp
    simulation/dpi_runtime.cpp
    simulation/compiled_sim.cpp
    simulation/mt_sim.cpp
    simulation/constraint_solver.cpp
    simulation/specify.cpp
    simulation/udp_eval.cpp
    synthesis/aig.cpp
    synthesis/synth_lower.cpp
    synthesis/aig_opt.cpp
    synthesis/lut_map.cpp
    synthesis/liberty.cpp
    synthesis/cell_map.cpp
    synthesis/netlist_writer.cpp
    synthesis/adv_synth.cpp
    synthesis/mem_infer.cpp
)

target_include_directories(deltahdl_lib PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})

add_executable(deltahdl main.cpp)
target_link_libraries(deltahdl PRIVATE deltahdl_lib)
